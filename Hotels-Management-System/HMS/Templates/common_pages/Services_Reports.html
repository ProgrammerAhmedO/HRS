



{%include 'index.html'%}


<h1 style = "text-align: center;">Services Report </h1>
<br><br><br>
{% block context %}
<body>

    <div class="col-8" style="margin: 0 auto;">

<h5 style="color:rgba(7, 53, 64, 0.697)">The list include last 1 month room services</h5>
        
        <table Class="table table-striped table-hover">
            <thead  class="table-dark">
              <tr >
                <th scope="col">Service</th>
                <th scope="col">UserName</th>
                <th scope="col">RoomNumber</th>
                <th scope="col">price</th>
                <th scope="col">Room Type</th>
              </tr>
            </thead>
            <tbody>
                <tr>
                    {%for roomServices in roomServices %}
                  <th scope="row">{{roomServices.servicesType}}</th>
                  
                  <td>{{roomServices.curBooking.guest}}</td>
                  <td>{{roomServices.curBooking.roomNumber}}</td>
                  <td>{{roomServices.price}}</td>
                  <td>{{roomServices.curBooking.roomNumber.roomType}}</td>
                  </tr>
                  {%endfor%}
              </tbody>  
          </table> 
    </div>
    
    <br><br><br><br><br>
        <div class="col-8" style="margin: 0 auto;">
          
            


            {% csrf_token %}
            {{ form_crispy }}


    <canvas id="myChart" width="100" height="50"></canvas>
    <script>
        var ctx = document.getElementById('myChart').getContext('2d');
        var myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: [{%for roomServices in roomServices %} '{{roomServices.curBooking.roomNumber.roomType}}', {% endfor %}],
        datasets: [{
            label: 'Service Price',
                data: [{%for roomServices in roomServices %} {{roomServices.price}}, {% endfor %}],
            backgroundColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
                    borderWidth: 1
        }]
            },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        }
        });

        
    </script>
    <br><br>
<h4 style="text-align:Center;color: rgb(77, 131, 176);">the total number of Services Request is : {{total_services}}</h4>
    
{% endblock %}
<br><br><br><br><br><br><br><br><br>
</div>


</body>